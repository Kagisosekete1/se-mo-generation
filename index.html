<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Se-Mo Generation</title>
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai@^1.4.0"
        }
      }
    </script>
    <link rel="stylesheet" href="index.css">
</head>
<body>

<div id="splash-screen">
  <div class="splash-logo-container">
    <svg class="splash-logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#4285F4"/>
                <stop offset="100%" stop-color="#34A853"/>
            </linearGradient>
        </defs>
        <circle cx="50" cy="50" r="48" fill="url(#logo-gradient)"/>
        <path d="M40 68.42V31.58C40 29.53 42.38 28.3 44.04 29.58L69.68 47.99C71.21 49.17 71.21 51.41 69.68 52.59L44.04 71.01C42.38 72.28 40 71.05 40 68.42Z" fill="white"/>
    </svg>
  </div>
  <h1>Se-Mo Generation</h1>
</div>

<div id="auth-container" style="display: none;">
    <div class="auth-card">
        <h2 id="auth-title">Login</h2>
        <p id="auth-subtitle">Welcome back! Please enter your details.</p>
        <div id="auth-error" class="auth-error"></div>
        <div id="auth-success" class="auth-success" style="display:none;"></div>
        <form id="login-form">
            <div class="auth-form-group">
                <label for="login-email">Email</label>
                <input type="email" id="login-email" required placeholder="name@example.com">
            </div>
            <div class="auth-form-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password" required placeholder="••••••••">
            </div>
            <div class="forgot-password-link-container">
                <a href="#" id="forgot-password-link">Forgot Password?</a>
            </div>
            <button type="submit" class="auth-button">Login</button>
        </form>
        <form id="register-form" style="display: none;">
             <div class="auth-form-group">
                <label for="register-name">Name</label>
                <input type="text" id="register-name" required placeholder="Your Name">
            </div>
             <div class="auth-form-group">
                <label for="register-email">Email</label>
                <input type="email" id="register-email" required placeholder="name@example.com">
            </div>
            <div class="auth-form-group">
                <label for="register-password">Password</label>
                <input type="password" id="register-password" required placeholder="Minimum 6 characters">
            </div>
            <button type="submit" class="auth-button">Create Account</button>
        </form>
        <div id="auth-legal-container" style="display: none;">
            <div class="auth-legal-tabs">
                <button class="auth-legal-tab active" data-tab="terms">Terms</button>
                <button class="auth-legal-tab" data-tab="privacy">Privacy</button>
            </div>
            <div class="auth-legal-content">
                <div class="auth-legal-pane active" data-tab-content="terms">
                    <h4>Terms of Service</h4>
                    <p>By registering, you agree to our terms and conditions. These terms govern your use of the Se-Mo Generation service. You agree not to use the service for any illegal or unauthorized purpose.</p>
                </div>
                <div class="auth-legal-pane" data-tab-content="privacy">
                    <h4>Privacy Policy</h4>
                    <p>We are committed to protecting your privacy. This policy outlines how we collect, use, and protect your personal information when you use our services.</p>
                </div>
            </div>
        </div>
        <form id="forgot-password-form" style="display: none;">
             <div class="auth-form-group">
                <label for="forgot-email">Email</label>
                <input type="email" id="forgot-email" required placeholder="name@example.com">
            </div>
            <button type="submit" class="auth-button">Send Reset Link</button>
        </form>
         <form id="reset-password-form" style="display: none;">
             <div class="auth-form-group">
                <label for="reset-new-password">New Password</label>
                <input type="password" id="reset-new-password" required placeholder="••••••••">
            </div>
            <div class="auth-form-group">
                <label for="reset-confirm-password">Confirm New Password</label>
                <input type="password" id="reset-confirm-password" required placeholder="••••••••">
            </div>
            <button type="submit" class="auth-button">Reset Password</button>
        </form>
        <p class="auth-toggle">
            <span id="auth-toggle-text">Don't have an account?</span>
            <a href="#" id="auth-toggle-link" data-mode="register">Register</a>
        </p>
    </div>
</div>

<main style="display:none;">
    <div id="drag-drop-overlay">
        <div class="drag-drop-content">
            <svg xmlns="http://www.w3.org/2000/svg" height="64px" viewBox="0 -960 960 960" width="64px"><path d="M440-320v-326L336-542l-56-58 200-200 200 200-56 58-104-104v326h-80ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"/></svg>
            <span>Drop your image here</span>
        </div>
    </div>
    <header class="main-header">
        <div id="user-status-container">
            <span id="user-status"></span>
            <button id="subscribe-button">Go Premium</button>
        </div>
        <div id="profile-container">
            <button id="profile-button">
                <img id="dashboard-profile-picture" class="dashboard-avatar" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2EwYTBiMiIgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCI+PHBhdGggZD0iTTEyIDEyYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMCAyYy0yLjY3IDAtOCAxLjM0LTggNHYyaDE2di0yYzAtMi42Ni01LjMzLTQtOC00eiIvPjwvc3ZnPg==" alt="User Avatar">
                <div class="profile-button-text-container">
                    <div id="user-name-display">User</div>
                    <div id="user-email-display">user@example.com</div>
                </div>
                <svg class="profile-chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
            </button>
            <div id="profile-dropdown" style="display: none;">
                <a href="#" id="my-creations-button">My Creations</a>
                <a href="#" id="settings-button">Settings</a>
                <a href="#" id="logout-button">Logout</a>
            </div>
        </div>
    </header>
    <h1>Se-Mo Generation</h1>

    <div id="main-nav-container">
        <button id="image-nav-button" class="main-nav-button active" data-view="image">Image Generation</button>
        <button id="chat-nav-button" class="main-nav-button" data-view="chat">Chat</button>
    </div>

    <div id="image-generator-view">
        <div class="generation-section" id="prompt-section">
            <label for="prompt-input" class="generation-section-title">1. Describe your vision</label>
            <div class="prompt-wrapper">
                <textarea id="prompt-input" rows="3" placeholder="e.g., A cinematic shot of a raccoon chief in tribal attire, leading a war party."></textarea>
                <button id="ai-assist-button" class="ai-assist-button" title="Enhance with AI" disabled>
                    <svg id="ai-assist-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5 4.5L9 11l-2.5 2.5L9 16l2.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15zM9.5 5.5L7 3l-2.5 2.5L7 8l2.5-2.5z"/></svg>
                    <div id="ai-assist-spinner" class="ai-assist-spinner"></div>
                </button>
            </div>
            <div class="example-prompts-container">
                <span class="example-prompts-divider">or</span>
                <select id="example-prompts-select" aria-label="Example prompts">
                  <option value="">try an example</option>
                  <option value="A majestic lion surveying its kingdom from a cliff at sunrise.">Majestic lion at sunrise...</option>
                  <option value="A futuristic city with flying cars and holographic billboards.">Futuristic city with flying cars...</option>
                  <option value="Epic cinematic shot of a lone samurai facing a dragon on a snowy mountain peak.">Samurai facing a dragon...</option>
                  <option value="A hyper-detailed macro shot of a single snowflake on a red mitten.">Macro shot of a snowflake...</option>
                  <option value="A whimsical watercolor illustration of animals having a tea party in a magical forest.">Watercolor animal tea party...</option>
                  <option value="An astronaut floating in space, gazing at the Earth from afar.">Astronaut gazing at Earth...</option>
                  <option value="A spooky, abandoned Victorian mansion under a full moon, with swirling fog.">Spooky abandoned mansion...</option>
                  <option value="Pixel art animation of a character running through a vibrant 8-bit landscape.">Pixel art 8-bit landscape...</option>
                  <option value="A delicious-looking cheeseburger and fries, studio lighting, photorealistic.">Photorealistic cheeseburger...</option>
                </select>
            </div>
        </div>

        <div class="generation-section" id="settings-section">
            <h3 class="generation-section-title">2. Configure your generation</h3>
            <div id="upload-and-settings-grid">
                <div id="upload-container">
                    <label for="file-input" id="file-input-label">Input Image (Optional)</label>
                    <div class="file-input-wrapper">
                      <label for="file-input" class="file-input-button">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M440-320v-326L336-542l-56-58 200-200 200 200-56 58-104-104v326h-80ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"/></svg>
                        <span>Choose File</span>
                      </label>
                      <span id="file-name-display" class="file-name-display">No file chosen</span>
                    </div>
                    <input type="file" id="file-input" class="sr-only" accept="image/*">
                    <div id="preview-container" style="display: none;">
                      <img id="image-preview" class="preview-media" alt="Image preview">
                      <button id="clear-preview-button" title="Clear selection">&times;</button>
                    </div>
                </div>

                <div id="image-settings">
                    <div class="setting">
                        <label for="image-aspect-ratio-select">Aspect Ratio</label>
                        <select id="image-aspect-ratio-select">
                            <option value="1:1">1:1 (Square)</option>
                            <option value="16:9">16:9 (Widescreen)</option>
                            <option value="9:16">9:16 (Vertical)</option>
                            <option value="4:3">4:3 (Landscape)</option>
                            <option value="3:4">3:4 (Portrait)</option>
                        </select>
                    </div>
                     <div class="setting">
                        <label for="image-format-select">Format</label>
                        <select id="image-format-select">
                            <option value="image/jpeg">JPEG</option>
                            <option value="image/png">PNG</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <button id="generate-button">Generate Image</button>
        
        <div id="spinner-container">
            <div class="spinner"></div>
        </div>
        <div id="status">Ready.</div>
        
        <div id="results-container">
            <h2>Your Creation</h2>
            <img id="result-image" alt="Generated image">
            <div id="image-filters-container" style="display: none;">
                <h3>Apply a Filter</h3>
                <div id="filter-options">
                    <button class="filter-button active" data-filter="none">Original</button>
                    <button class="filter-button" data-filter="grayscale(100%)">Grayscale</button>
                    <button class="filter-button" data-filter="sepia(100%)">Sepia</button>
                    <button class="filter-button" data-filter="invert(100%)">Invert</button>
                    <button class="filter-button" data-filter="saturate(2)">Saturate</button>
                    <button class="filter-button" data-filter="contrast(1.5)">Contrast</button>
                    <button class="filter-button" data-filter="blur(3px)">Blur</button>
                </div>
            </div>
            <div class="results-actions">
                <button id="download-button">Download Image</button>
                <button id="save-creation-button" disabled>Save Creation</button>
                <button id="share-button" disabled>Share</button>
                <button id="view-creation-button" disabled>View Creation</button>
            </div>
        </div>
        
        <div id="daily-prompts-container" style="display: none;">
            <div class="daily-prompts-header">
                <h2>Daily Prompts</h2>
                <button id="refresh-prompts-button" title="Get new prompts">
                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-54-87-87t-121-33q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 142-45t98-125h82q-34 100-118.5 165T480-160Z"/></svg>
                </button>
            </div>
            <div id="daily-prompts-gallery"></div>
        </div>
    </div>

    <div id="chat-view" style="display: none;">
        <div id="chat-sidebar">
            <button id="new-chat-button" class="button button-primary">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm440-160h240v-80H560v80Zm0-160h240v-80H560v80Z"/></svg>
                <span>New Chat</span>
            </button>
            <ul id="chat-list">
                <!-- Chat history items will be populated here -->
            </ul>
        </div>
        <div id="chat-main">
            <div id="chat-main-header">
                <h3 id="chat-title">Conversation</h3>
                <button id="share-chat-button" class="icon-button" title="Share Chat">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"></path></svg>
                </button>
            </div>
            <div id="chat-history">
                <!-- Messages will be rendered here -->
            </div>
            <form id="chat-form">
                <div id="chat-input-wrapper">
                    <textarea id="chat-input" placeholder="Message your assistant..." required rows="1"></textarea>
                    <button id="chat-send-button" type="submit" title="Send message" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                    </button>
                </div>
            </form>
        </div>
    </div>

</main>

<div id="error-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Error</h3>
    <div id="error-message-container">
        <p>An unexpected error occurred.</p>
    </div>
    <div class="modal-actions">
      <button id="modal-close-button">Close</button>
    </div>
  </div>
</div>

<div id="subscription-modal" class="modal-overlay">
  <div class="modal-content premium-modal-content">
    <div id="plan-selection-view">
        <div class="premium-modal-header">
            <svg class="premium-modal-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z"/></svg>
            Go Premium
        </div>
        <p>Unlock unlimited downloads, save your creations, and enjoy an ad-free experience!</p>
        <div id="pricing-plans-container">
            <div class="pricing-plan" data-plan="monthly">
                <div>
                    <h4 class="plan-title">Monthly Plan</h4>
                    <p class="plan-price">$9.99 / month</p>
                </div>
                <svg class="plan-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            </div>
            <div class="pricing-plan" data-plan="yearly">
                <div>
                    <h4 class="plan-title">Yearly Plan</h4>
                    <p class="plan-price">$99.99 / year (Save 16%)</p>
                </div>
                <svg class="plan-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            </div>
        </div>
        <button id="continue-payment-button">
            <svg class="payment-button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm-1 14H5c-.55 0-1-.45-1-1v-5h16v5c0 .55-.45 1-1 1zm1-10H4V6h16v2z"/></svg>
            <span>Continue</span>
        </button>
    </div>

    <div id="payment-selection-view" style="display: none;">
      <h4 class="payment-view-header">Complete Your Purchase</h4>
      <p id="selected-plan-info"></p>

      <button id="paypal-payment-button">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.328 20.355c.236.42.59.748 1.02.992.43.245.92.368 1.446.368h5.992c3.28 0 5.89-1.02 7.74-3.048 1.862-2.04 2.8-4.72 2.8-8.028 0-2.38-.6-4.32-1.788-5.832C18.732 2.29 16.92 1.5 14.736 1.5H8.38c-.58 0-1.07.26-1.446.772-.375.512-.516 1.112-.42 1.788l1.32 9.012c.1.66.015 1.2-.24 1.62-.255.42-.63.63-1.11.63H3.04c-.38 0-.69.11-.93.33-.24.22-.36.5-.36.84 0 .42.15.79.45 1.11L3.33 20.355Zm2.25-15.613c.09-.312.27-.468.528-.468h5.4c1.51 0 2.7.35 3.552 1.05.852.7 1.272 1.71 1.272 3.03 0 2.22-.87 3.85-2.616 4.9-1.746 1.05-3.96 1.57-6.66 1.57h-1.8c-.37 0-.66-.18-.87-.52-.2-.34-.28-.79-.22-1.35l1.11-7.71Z"/></svg>
          <span>Pay with PayPal</span>
      </button>

      <div class="payment-divider">OR</div>

      <div id="card-payment-wrapper">
          <div id="card-payment-overlay">
              <span>Credit Card Payments Coming Soon!</span>
          </div>
          <form id="modal-add-card-form-disabled" class="settings-form">
              <div class="form-group">
                  <input type="text" disabled placeholder="Card Number">
              </div>
              <div class="form-group">
                  <input type="text" disabled placeholder="Card Holder Name">
              </div>
              <div class="form-group-row">
                  <div class="form-group">
                      <input type="text" disabled placeholder="MM/YY">
                  </div>
                  <div class="form-group">
                      <input type="text" disabled placeholder="CVV">
                  </div>
              </div>
              <button class="auth-button" disabled>Pay Now</button>
          </form>
      </div>
      
      <div class="modal-actions" style="margin-top: 1.5rem; justify-content: center;">
          <button id="back-to-plans-button" class="settings-utility-button">Back to Plans</button>
      </div>
    </div>
      <div id="payment-message-container"></div>
      <button id="subscription-modal-close-button">Maybe later</button>
  </div>
</div>

<div id="settings-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; padding: 1.5rem 2rem;">
    <h3 style="text-align: left; margin-bottom: 1rem;">Settings</h3>
    <div id="settings-content">
        <nav class="settings-nav">
            <button class="settings-nav-link active" data-pane="profile">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                <span>Profile</span>
            </button>
            <button class="settings-nav-link" data-pane="password">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/></svg>
                <span>Password & Security</span>
            </button>
            <button class="settings-nav-link" data-pane="subscription">
                 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm-1 14H5c-.55 0-1-.45-1-1v-5h16v5c0 .55-.45 1-1 1zm1-10H4V6h16v2z"/></svg>
                <span>Subscription & Payments</span>
            </button>
             <button class="settings-nav-link" data-pane="generation">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.5c-5.25 0-9.5 4.25-9.5 9.5s4.25 9.5 9.5 9.5 9.5-4.25 9.5-9.5S17.25 2.5 12 2.5zm-3.6 5.1L12 9.7l3.6-2.1 2.1 3.6-2.1 3.6-3.6 2.1-3.6-2.1-2.1-3.6 2.1-3.6zm5.7 6.3l1.5-2.6-2.6-1.5-1.5 2.6 2.6 1.5z"/></svg>
                <span>Generation</span>
            </button>
            <button class="settings-nav-link" data-pane="domain">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                <span>Domain</span>
            </button>
            <button class="settings-nav-link" data-pane="notifications">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                <span>Notifications</span>
            </button>
             <button class="settings-nav-link" data-pane="appearance">
                 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.64-.11 2.4-.31-.31-.62-.5-1.3-.5-2.02 0-2.21 1.79-4 4-4 .72 0 1.4.19 2.02.5.2-.76.31-1.57.31-2.4 0-4.97-4.03-9-9-9z"/></svg>
                <span>Appearance</span>
            </button>
            <button class="settings-nav-link" data-pane="privacy">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                <span>Privacy & Data</span>
            </button>
            <button class="settings-nav-link" data-pane="help">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
                <span>Help & Support</span>
            </button>
        </nav>
        <div class="settings-panes">
            <!-- Profile Pane -->
            <div class="settings-pane active" id="pane-profile">
                <h3>Profile</h3>
                <form id="profile-form" class="settings-form">
                    <p class="form-group-description">This information is displayed publicly on your shared creations.</p>
                    <div class="profile-picture-container">
                      <img id="profile-picture-preview" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2EwYTBiMiIgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCI+PHBhdGggZD0iTTEyIDEyYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMCAyYy0yLjY3IDAtOCAxLjM0LTggNHYyaDE2di0yYzAtMi42Ni01LjMzLTQtOC00eiIvPjwvc3ZnPg==" alt="Profile Avatar">
                      <label for="profile-picture-input" class="profile-picture-label">Change Photo</label>
                      <input type="file" id="profile-picture-input" class="sr-only" accept="image/*">
                    </div>
                    <div class="form-group">
                      <label for="profile-name-input">Name</label>
                      <input type="text" id="profile-name-input" required>
                    </div>
                    <div class="form-group">
                      <label for="profile-bio-input">Bio</label>
                      <textarea id="profile-bio-input" rows="3" placeholder="Tell us about yourself"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="settings-save-button">Save Profile</button>
                    </div>
                </form>
                <form id="links-form" class="settings-form">
                    <h4 class="settings-subheader">Social Links</h4>
                    <div class="form-group social-input-group">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>
                      <input type="url" id="facebook-link-input" placeholder="https://facebook.com/username">
                    </div>
                    <div class="form-group social-input-group">
                       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                      <input type="url" id="x-link-input" placeholder="https://x.com/username">
                    </div>
                    <div class="form-group social-input-group">
                       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"/></svg>
                      <input type="url" id="instagram-link-input" placeholder="https://instagram.com/username">
                    </div>
                    <div class="form-actions">
                         <button type="submit" class="settings-save-button">Save Links</button>
                    </div>
                </form>
            </div>
            <!-- Password Pane -->
            <div class="settings-pane" id="pane-password">
                <h3>Password & Security</h3>
                <form id="password-form" class="settings-form">
                    <h4 class="settings-subheader">Change Password</h4>
                    <p class="form-group-description">For your security, we recommend using a strong, unique password.</p>
                    <div class="form-group">
                        <label for="current-password-input">Current Password</label>
                        <input type="password" id="current-password-input" required>
                    </div>
                    <div class="form-group-row">
                        <div class="form-group">
                            <label for="new-password-input">New Password</label>
                            <input type="password" id="new-password-input" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password-input">Confirm New Password</label>
                            <input type="password" id="confirm-password-input" required>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="settings-save-button">Update Password</button>
                    </div>
                </form>
                 <div id="parental-pin-section" class="settings-form">
                    <h4 class="settings-subheader">Parental PIN</h4>
                    <p class="form-group-description">Set a 4-digit PIN to authorize PayPal payments and prevent unauthorized purchases.</p>
                     <div class="form-actions">
                        <button id="manage-pin-button" class="settings-utility-button">Manage PIN</button>
                    </div>
                </div>
            </div>
            <!-- Subscription & Payments Pane -->
            <div class="settings-pane" id="pane-subscription">
                <h3>Subscription & Payments</h3>
                <div id="subscription-status-container"></div>
                <div id="payment-methods-view">
                    <h4 class="settings-subheader">Payment Methods</h4>
                    <div id="saved-cards-list"></div>
                    <div class="form-actions">
                        <button id="add-new-card-button" class="settings-utility-button">Add New Card</button>
                    </div>
                </div>
                 <form id="add-card-form" class="settings-form" style="display:none;">
                    <h4 class="settings-subheader">Add a New Card</h4>
                    <div class="form-group">
                        <label for="card-number-input">Card Number</label>
                        <input type="text" id="card-number-input" required inputmode="numeric" maxlength="19">
                    </div>
                    <div class="form-group">
                        <label for="card-holder-input">Card Holder Name</label>
                        <input type="text" id="card-holder-input" required>
                    </div>
                    <div class="form-group-row">
                        <div class="form-group">
                            <label for="card-expiry-input">Expiry Date</label>
                            <input type="text" id="card-expiry-input" required placeholder="MM/YY" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvv-input">CVV</label>
                            <input type="text" id="card-cvv-input" required inputmode="numeric" maxlength="4">
                        </div>
                    </div>
                    <div class="form-group">
                         <label class="toggle-switch-label" style="justify-content: flex-start; gap: 0.75rem; font-weight: 400;">
                            <input type="checkbox" id="set-card-default-checkbox">
                            <span>Set as default payment method</span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancel-add-card-button" class="settings-utility-button">Cancel</button>
                        <button type="submit" class="settings-save-button">Save Card</button>
                    </div>
                </form>
            </div>
            <!-- Generation Pane -->
            <div class="settings-pane" id="pane-generation">
                 <h3>Generation Settings</h3>
                <form id="generation-settings-form" class="settings-form">
                    <p class="form-group-description">These settings affect the output of your generated images.</p>
                     <div class="form-group">
                        <label for="setting-image-aspect-ratio">Default Image Aspect Ratio</label>
                        <select id="setting-image-aspect-ratio">
                            <option value="1:1">1:1 (Square)</option>
                            <option value="16:9">16:9 (Widescreen)</option>
                            <option value="9:16">9:16 (Vertical)</option>
                            <option value="4:3">4:3 (Landscape)</option>
                            <option value="3:4">3:4 (Portrait)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="setting-image-format">Default Image Format</label>
                        <select id="setting-image-format">
                            <option value="image/jpeg">JPEG</option>
                            <option value="image/png">PNG</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="settings-save-button">Save Generation Settings</button>
                    </div>
                </form>
            </div>
             <!-- Domain Pane -->
            <div class="settings-pane" id="pane-domain">
                <h3>Connect Your Domain</h3>
                <p class="form-group-description">Point your custom domain to your Se-Mo creations page.</p>
                <div id="domain-status-container">
                    <!-- Status will be rendered here -->
                </div>
                <form id="domain-form" class="settings-form">
                    <div class="form-group">
                        <label for="domain-name-input">Domain Name</label>
                        <input type="text" id="domain-name-input" placeholder="e.g., my-awesome-art.com">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="settings-save-button">Connect Domain</button>
                    </div>
                </form>
                <div id="dns-instructions" style="display: none;">
                    <h4 class="settings-subheader">Configuration Required</h4>
                    <p>To connect your domain, please add the following DNS records in your domain provider's settings (e.g., Namecheap).</p>
                    <div class="dns-record-card">
                        <p><strong>Type:</strong> A</p>
                        <p><strong>Name:</strong> @</p>
                        <p><strong>Value:</strong> 76.76.21.21</p>
                    </div>
                     <div class="dns-record-card">
                        <p><strong>Type:</strong> CNAME</p>
                        <p><strong>Name:</strong> www</p>
                        <p><strong>Value:</strong> <span id="user-domain-cname">your-domain.com</span></p>
                    </div>
                </div>
            </div>
            <!-- Notifications Pane -->
            <div class="settings-pane" id="pane-notifications">
                <h3>Notifications</h3>
                <form id="notifications-form" class="settings-form">
                    <p class="form-group-description">Choose how you want to be notified about important events.</p>
                    <div class="form-group">
                        <label class="toggle-switch-label">
                            <span>Feature Updates & Offers</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="setting-notifications-features" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="toggle-switch-label">
                            <span>Export & Download Alerts</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="setting-notifications-exports" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>
                    </div>
                     <div class="form-group">
                        <label class="toggle-switch-label">
                            <span>Community News & Events</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="setting-notifications-community" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>
                    </div>
                    <div class="form-actions">
                         <button type="submit" class="settings-save-button">Save Preferences</button>
                    </div>
                </form>
            </div>
             <!-- Appearance Pane -->
            <div class="settings-pane" id="pane-appearance">
                <h3>Appearance</h3>
                <form id="appearance-form" class="settings-form">
                     <p class="form-group-description">Customize the look and feel of the application.</p>
                     <div class="form-group">
                        <label class="toggle-switch-label">
                            <span>Enable Dark Mode</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="setting-dark-mode-toggle">
                                <span class="toggle-slider"></span>
                            </div>
                        </label>
                    </div>
                </form>
                 <h4 class="settings-subheader">Language & Region</h4>
                 <form id="language-region-form" class="settings-form">
                     <div class="form-group">
                        <label for="setting-language-select">Language</label>
                        <select id="setting-language-select">
                            <option value="en-US">English (United States)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="setting-timezone-select">Time Zone</label>
                        <select id="setting-timezone-select">
                            <option value="Africa/Johannesburg">Africa/Johannesburg</option>
                        </select>
                    </div>
                    <div class="form-actions">
                         <button type="submit" class="settings-save-button">Save Language & Region</button>
                    </div>
                </form>
            </div>
            <!-- Privacy Pane -->
            <div class="settings-pane" id="pane-privacy">
                <h3>Privacy & Data</h3>
                 <div class="privacy-section">
                    <h4>Manage Creations</h4>
                    <small>View, organize, and delete your saved creations. This is a Premium feature.</small>
                    <button id="manage-projects-button" class="settings-utility-button">Manage My Creations</button>
                </div>
                <div class="privacy-section">
                    <h4>Clear Temporary Data</h4>
                    <small>Clears temporary data like password reset tokens from your browser's local storage.</small>
                    <button id="clear-cache-button" class="settings-utility-button">Clear Now</button>
                </div>
                <div class="privacy-section">
                    <h4>Delete Account</h4>
                    <small>Permanently delete your account and all associated data. This action cannot be undone.</small>
                    <button id="delete-account-button" class="settings-utility-button danger">Delete Account</button>
                </div>
            </div>
            <!-- Help & Support Pane -->
            <div class="settings-pane" id="pane-help">
                <div class="help-support-content">
                  <h3>Getting Started</h3>
                  <p>Welcome to Se-Mo Generation! This tool allows you to create unique videos and images from text prompts. Here's a quick guide:</p>
                  <ol>
                    <li><strong>Select Type:</strong> Choose whether you want to generate a 'Video' or an 'Image'.</li>
                    <li><strong>Write a Prompt:</strong> Describe what you want to create in the prompt box. Be as descriptive as possible for the best results. Use the "Enhance with AI" button to improve your prompt.</li>
                    <li><strong>Use Conditioning (Optional):</strong> Upload an image to influence the generation process. This can be used for both video and image generation.</li>
                    <li><strong>Adjust Settings:</strong> Set the duration and aspect ratio for videos, or the aspect ratio and format for images.</li>
                    <li><strong>Generate:</strong> Hit the generate button and watch the AI bring your idea to life!</li>
                  </ol>

                  <h3>Frequently Asked Questions</h3>
                  <h4>Generation</h4>
                  <p><strong>Why did my generation fail?</strong><br>Generations can fail due to several reasons, including network issues, API service interruptions, or prompts that violate safety policies. If the problem persists, try a different prompt or check your internet connection.</p>
                  <p><strong>How can I improve my results?</strong><br>Detailed prompts produce better results. Mention the subject, action, style (e.g., "cinematic," "oil painting"), lighting ("soft morning light"), and composition ("wide-angle shot").</p>

                  <h4>Account & Billing</h4>
                  <p><strong>How do I upgrade to Premium?</strong><br>You can upgrade by clicking the "Go Premium" button on the dashboard or from the "Subscription & Payments" tab in your settings.</p>
                  <p><strong>How can I manage my payment methods?</strong><br>Premium users can add, remove, and set a default payment method in the "Subscription & Payments" tab in their settings.</p>
                  
                  <h3>Contact Us</h3>
                  <p>If your question isn't answered here, or if you're experiencing technical difficulties, please don't hesitate to reach out to our support team.</p>
                  <p><strong>Email:</strong> <a href="mailto:support@semo-gen.com">support@semo-gen.com</a></p>
                  <p><strong>Support Hours:</strong> Monday - Friday, 9 AM - 5 PM (UTC)</p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-actions" style="justify-content: flex-end; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
      <button id="settings-modal-close-button" style="padding: 10px 24px;">Done</button>
    </div>
  </div>
</div>

<div id="creations-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px;">
    <h3>My Creations</h3>
    <div id="creations-gallery">
      <!-- Gallery items will be populated by JS -->
    </div>
    <div id="creations-selection-toolbar" style="display: none;">
        <span id="selection-count"></span>
        <div class="selection-actions">
            <button id="edit-selected-button" class="settings-utility-button">
                <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 141-28-28 57 57-29-29Z"/></svg>
                <span>Edit</span>
            </button>
            <button id="delete-selected-button" class="settings-utility-button danger">
                <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>
                <span>Delete</span>
            </button>
        </div>
    </div>
    <div id="creations-pagination-controls" style="display: none;">
      <button id="creations-prev-page" class="settings-utility-button">&lt; Previous</button>
      <span id="creations-page-info"></span>
      <button id="creations-next-page" class="settings-utility-button">Next &gt;</button>
    </div>
    <div class="modal-actions">
      <button id="creations-modal-close-button">Close</button>
    </div>
  </div>
</div>

<div id="large-view-modal" class="modal-overlay" style="background-color: rgba(0,0,0,0.8);">
    <button id="large-view-close-button">&times;</button>
    <div class="large-view-content">
        <img id="large-view-image" alt="Full size creation">
        <video id="large-view-video" controls style="display: none;"></video>
    </div>
</div>

<div id="delete-account-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Delete Account</h3>
    <p>This action is irreversible. All your data, including saved creations, will be permanently deleted. Please type your email to confirm.</p>
    <div class="form-group" style="text-align: left;">
      <label for="delete-confirm-input">Your Email</label>
      <input type="email" id="delete-confirm-input" placeholder="user@example.com">
    </div>
    <div class="modal-actions">
      <button id="cancel-delete-button">Cancel</button>
      <button id="confirm-delete-button" disabled>Delete Account</button>
    </div>
  </div>
</div>

<div id="share-fallback-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Sharing Not Supported</h3>
    <p>Your browser doesn't support direct sharing. Please download your creation to share it manually.</p>
    <div class="modal-actions">
      <button id="share-fallback-close-button">Got it</button>
    </div>
  </div>
</div>

<div id="config-error-overlay" class="modal-overlay">
  <div class="modal-content">
    <div class="error-icon">
        <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 0 24 24" width="48px" fill="#d93025"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
    </div>
    <h3>Configuration Error</h3>
    <p>The application is missing a required API key. Please ensure it is configured correctly and try again.</p>
  </div>
</div>

<div id="video-editor-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content" style="max-width: 90vw; max-height: 90vh; height: 90vh; width: 90vw; display: flex; flex-direction: column;">
    <div class="editor-header">
        <h3>Video Editor</h3>
        <div class="editor-main-actions">
            <button id="export-video-button" class="settings-save-button">Export Video</button>
            <button id="video-editor-close-button" class="settings-utility-button">Close</button>
        </div>
    </div>
  </div>
</div>

<div id="parental-pin-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 400px;">
        <h3 id="pin-modal-title">Enter PIN</h3>
        <p id="pin-modal-subtitle">A PIN is required to authorize this payment.</p>
        
        <div id="pin-modal-view-container">
            <!-- Enter PIN View -->
            <div id="pin-enter-view" class="pin-modal-view">
                 <div id="pin-input-container">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                </div>
                <div class="pin-actions">
                  <a href="#" id="forgot-pin-link">Forgot PIN?</a>
                </div>
            </div>
            <!-- Set PIN View -->
            <div id="pin-set-view" class="pin-modal-view" style="display: none;">
                 <div id="pin-set-input-container" class="pin-input-container">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                </div>
                 <div id="pin-confirm-input-container" class="pin-input-container" style="display: none;">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                    <input type="number" class="pin-input" maxlength="1" inputmode="numeric">
                </div>
                <div class="pin-actions">
                  <button id="set-pin-button" class="auth-button">Set PIN</button>
                </div>
            </div>
        </div>
        <div id="pin-message"></div>
        <div class="modal-actions" style="margin-top: 1.5rem;">
            <button id="pin-modal-close-button" class="settings-utility-button">Cancel</button>
        </div>
    </div>
</div>

<script type="module" src="index.js"></script>
</body>
</html>